<div class="Holder" x-data="{
  a:$refs.cref,
  e:[0,0,0,0],
  f:[0,0],
  k:function (b,g){var c=e[2]-(b.pageX-f[0]),d=e[3]-(b.pageY-f[1]);switch(g){case 'bottomRight':20<c&&(a.style.width=c+'px');20<d&&(a.style.height=d+'px');break;case 'bottomLeft':20<d&&(a.style.height=d+'px');20<c&&(a.style.width=c+'px',a.style.left=e[0]+(b.pageX-f[0])+'px');break;case 'topRight':20<c&&(a.style.width=c+'px');20<d&&(a.style.height=d+'px',a.style.top=e[1]+(b.pageY-f[1])+'px');break;default:20<c&&(a.style.width=c+'px',a.style.left=e[0]+(b.pageX-f[0])+'px'),20<d&&(a.style.height=d+'px',
a.style.top=e[1]+(b.pageY-f[1])+'px')}},
  clickhandle:function(b,g){b.preventDefault();var c=parseFloat(getComputedStyle(a,null).getPropertyValue('width').replace('px','')),d=parseFloat(getComputedStyle(a,null).getPropertyValue('height').replace('px','')),l=a.getBoundingClientRect().left,m=a.getBoundingClientRect().top;e=[l,m,c,d];f=[b.pageX,b.pageY];window.addEventListener('mousemove',function(h){return k(h,g)});window.addEventListener('mouseup',function(){return window.removeEventListener('mousemove',function(h){return k(h,g)})})}
}">
      <p>Drag red rectangle inwards to crop</p>
      <div class="MediaHolder">
        <div class="CropParent" x-ref="cref">
          <div class="CropBox">
            <div class="CropTopLeft" @mousedown="clickhandle($event, 'topLeft')" />
            <div class="CropTopRight" @mousedown="clickhandle($event, 'topRight')" />
            <div class="CropBottomLeft" @mousedown="clickhandle($event, 'bottomLeft')" />
            <div class="CropBottomRight" @mousedown="clickhandle($event, 'bottomRight')" />
          </div>
        </div>
        <!--${ch}-->
      </div>
      <a class="FormButton" @click="components[${ap}].params.crop=e">set crop</a>
    </div>